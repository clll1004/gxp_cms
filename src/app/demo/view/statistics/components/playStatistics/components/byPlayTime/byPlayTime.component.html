<div class="ui-g-nopad ui-g-12">
  <div class="ui-g-nopad ui-g-12 filterArea">
    <div class="left">
      <p-calendar [(ngModel)]="rangeDates" selectionMode="range" [readonlyInput]="true" [showIcon]="true"  dateFormat="yy.mm.dd"></p-calendar>
    </div>
    <div class="right">
      <input type="text" pInputText placeholder="검색">
    </div>
  </div>

  <div class="ui-g-nopad ui-g-12 margin-bottom-40">
    <button class="margin-bottom-20" type="button" pButton label="다중비교" *ngIf="!isCompareStatus"></button>
    <button class="margin-bottom-20" type="button" pButton label="비교취소" *ngIf="isCompareStatus"></button>

    <p-table #dt class="selectTable" [columns]="playTimeCols" [value]="playTimeRowData" [resizableColumns]="true" sortField="regdate" [sortOrder]="-1" [paginator]="true" [rows]="20" [rowsPerPageOptions]="[20,50,100]" [(selection)]="tempCompareItems"> <!--selectionMode="multiple" (onRowSelect)="onRowSelect()" (onRowUnselect)="onRowSelect()" -->
      <ng-template pTemplate="colgroup" let-columns>
        <colgroup>
          <col *ngFor="let col of columns" [style.width]="col.width">
        </colgroup>
      </ng-template>
      <ng-template pTemplate="header" let-columns>
        <tr>
          <th *ngFor="let col of columns; let i = index" [pSortableColumn]="col.field" pResizableColumn>
            {{ col.header }}
            <p-sortIcon *ngIf="i !== 0" [field]="col.field" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData let-columns="columns" let-playTimeRowData>
        <tr [pSelectableRow]="rowData">
          <td>
            <p-tableCheckbox [value]="playTimeRowData"></p-tableCheckbox>
          </td>
          <td>{{ playTimeRowData['cid'] }}</td>
          <td>{{ playTimeRowData['title'] }}</td>
          <td>{{ playTimeRowData['mediaStorage'] }}</td>
          <td style="text-align: left; padding-left: 10px;">{{ playTimeRowData['playList'] }}</td>
          <td>{{ playTimeRowData['fileName'] }}</td>
          <td>{{ playTimeRowData['videoTime'] }}</td>
          <td>{{ playTimeRowData['viewingTime'] }}</td>
          <td>{{ playTimeRowData['uniquePlayCount'] }}</td>
          <td>{{ playTimeRowData['totalPlayCount'] }}</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage" let-columns>
        <tr>
          <td [attr.colspan]="columns.length" class="emptyMessage">표시할 데이터가 없습니다.</td>
        </tr>
      </ng-template>
    </p-table>

    <div class="ui-g-12 ui-g-nopad margin-bottom-30">
      <h3 class="margin-right-20">재생시간 분석</h3> <button pButton class="margin-bottom-20" type="button" label="비교취소" [disabled]="!isCompareStatus"></button>
      <p-table [value]="compareItems" [columns]="compareHeaderCols" [resizableColumns]="true" >
        <ng-template pTemplate="colgroup" let-columns>
          <colgroup>
            <col *ngFor="let col of columns" [style.width]="col.width">
          </colgroup>
        </ng-template>
        <ng-template pTemplate="header" let-columns>
          <tr>
            <th *ngFor="let col of columns; let i = index" [pSortableColumn]="col.field" pResizableColumn>
              {{ col.header }}
              <p-sortIcon *ngIf="i !== 0 && i !== 6" [field]="col.field" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-compareItem let-columns="columns">
          <tr>
            <td></td>
            <td>{{ compareItem['folderName'] }}</td>
            <td style="text-align: left; padding-left: 10px;">{{ compareItem['contentsName'] }}</td>
            <td>{{ compareItem['playTime'] }}</td>
            <td>{{ compareItem['playCount'] }}</td>
            <td>{{ compareItem['averagePlayTime'] }}</td>
            <td>
              <button class="btn" (click)="deleteCompareItem(compareItem)">삭제</button>
            </td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage" let-columns>
          <tr>
            <td [attr.colspan]="columns.length" class="emptyMessage">표시할 데이터가 없습니다.</td>
          </tr>
        </ng-template>
      </p-table>
    </div>

    <div class="ui-g-12 ui-g-nopad graphArea">
      <div class="graph" style="padding: 30px 70px;">
        <p-chart [type]="'line'" [data]="lineData" width="100%" height="200px"></p-chart>
      </div>
    </div>

    <div class="ui-g-12 ui-g-nopad dataArea">
      <div class="ui-g-nopad ui-g-12" style="margin-bottom: 30px;">
        <div class="right">
          <button pButton type="button" label="다운로드"></button>
        </div>
      </div>
      <div class="ui-g-nopad ui-g-12">
        <p-table [columns]="resultCols" [value]="resultRowData" dataKey="vin" [paginator]="true"
                 [rows]="10" [responsive]="true">
          <ng-template pTemplate="header" let-columns>
            <tr>
              <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                {{col.header}}
                <p-sortIcon [field]="col.field"></p-sortIcon>
              </th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-rowData let-columns="columns">
            <tr>
              <td *ngFor="let col of columns">
                <span class="ui-column-title">{{col.header}}</span>
                {{rowData[col.field]}}
              </td>
            </tr>
          </ng-template>
          <ng-template pTemplate="emptymessage" let-columns>
            <tr>
              <td [attr.colspan]="columns.length" class="emptyMessage">표시할 데이터가 없습니다.</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
  </div>
</div>