<div class="ui-g-12 ui-g-nopad margin-bottom-30">
  <folder-picker
    class="margin-right-10"
    [(ngModel)]="selectFolder"
    (onSelect)="updateChoiceFolder($event)"
    ngDefaultControl
  ></folder-picker>

  <div class="dp-inb">
    <label for="search-key"></label><input type="text" class="margin-right-10" id="search-key" [(ngModel)]="searchKey" pInputText placeholder="검색어를 입력해주세요" autocomplete="off">
    <button type="button" class="btn margin-right-10" (click)="search()"><i class="fas fa-search"></i> 검색</button>

    <!--<span class="search-result" id="search-result">총 {{searchCount}}개 검색되었습니다.</span>-->
  </div>
</div>

<div class="ui-g-12 ui-g-nopad">
  <div class="ui-g-12 ui-g-nopad margin-bottom-40 chart-container">
    <p-chart [type]="chartType" [data]="multiChartData" [options]="chartOptions" width="100%" height="300px"></p-chart>
  </div>
  <div class="ui-g-12 ui-g-nopad">
    <div class="margin-bottom-30" *ngFor="let i of durationLength">
      <h3 class="margin-bottom-20 time-table-title">
        {{ timeTableTitle[i] }}
      </h3>
      <p-table [id]="'timeTable' + i" [value]="timeStatisticsLists[i]" [columns]="timeStatisticsCols">
        <ng-template pTemplate="header" let-columns>
          <tr>
            <th *ngFor="let col of columns" [pSortableColumn]="col.field">
              {{ col.header }}
              <p-sortIcon [field]="col.field" ariaLabel="Activate to sort" ariaLabelDesc="Activate to sort in descending order" ariaLabelAsc="Activate to sort in ascending order"></p-sortIcon>
            </th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-timeStatisticsList let-columns="columns">
          <tr>
            <td> {{ timeStatisticsList['date'] < 10 ? '0' + timeStatisticsList['date'] : timeStatisticsList['date'] }} 시 - {{ (timeStatisticsList['date'] + 1) < 10 ? '0' + (timeStatisticsList['date'] + 1) : (timeStatisticsList['date'] + 1) }} 시 </td>
            <td> {{ timeStatisticsList['playCount'] }} 회</td>
            <td> {{ timeStatisticsList['playTime'] }} 분</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="footer" let-columns>
          <tr>
            <td>
              Total
            </td>
            <td>
              총합 {{ totalData[i]?.totalPlayCount }}회<br>
              평균 재생수 {{ totalData[i]?.averagePlayCount }} 회
            </td>
            <td>평균 재생시간 {{ totalData[i]?.averagePlayTime }}분</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage" let-columns>
          <tr>
            <td [attr.colspan]="columns.length" class="emptyMessage">표시할 데이터가 없습니다.</td>
          </tr>
        </ng-template>
      </p-table>

      <div class="ui-g-12 ui-g-nopad margin-top-10 margin-bottom-30 txt-right">
        <button [id]="'foldingTableBtn'+ i" class="btn" type="button" (click)="foldingTable('foldingTableBtn'+ i, 'timeTable' + i)" [innerHtml]="'접기 >'"></button>
      </div>
    </div>
  </div>
</div>